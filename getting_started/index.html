<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Getting Started - seq2seq</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">
  <link href="../extra.css" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Getting Started";
    var mkdocs_page_input_path = "getting_started.md";
    var mkdocs_page_url = "/getting_started/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> seq2seq</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="..">Overview</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 current">
        <a class="current" href="./">Getting Started</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#download-setup">Download &amp; Setup</a></li>
                
            
                <li class="toctree-l3"><a href="#using-a-pre-trained-model">Using a pre-trained model</a></li>
                
            
                <li class="toctree-l3"><a href="#training-your-own-model">Training your own model</a></li>
                
            
            </ul>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../data/">Data</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../training/">Training</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../inference/">Inference</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../models/">Model Reference</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../encoders/">Encoder Reference</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../decoders/">Decoder Reference</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../tools/">Tools</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../benchmarks/">Benchmarks</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../contributing/">Contributing</a>
        
    </li>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">seq2seq</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Getting Started</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h2 id="download-setup">Download &amp; Setup</h2>
<p>To use tf-seq2seq you need a working installation of TensorFlow 1.0 with
Python 2.7 or Python 3.5. Follow the <a href="https://www.tensorflow.org/versions/r1.0/get_started/os_setup">TensorFlow Getting Started</a> guide for detailed setup instructions. With TensorFlow installed, you can clone this repository:</p>
<pre><code class="bash">git clone https://github.com/google/seq2seq.git
cd seq2seq
</code></pre>

<p>To make sure everything works as expect you can run a simple pipeline unit test:</p>
<pre><code class="bash">python -m unittest seq2seq.test.pipeline_test
</code></pre>

<p>If you see a "success" message, you are all set. Note that you may need to install pyrouge, pyyaml, and matplotlib, in order for these tests to pass. If you run into other setup issues,
please <a href="https://github.com/google/seq2seq/issues">file a Github issue</a>.</p>
<h2 id="using-a-pre-trained-model">Using a pre-trained model</h2>
<p>Coming soon!</p>
<h2 id="training-your-own-model">Training your own model</h2>
<p>Let's look at how you can train a model based on your own data. In this section, we will train a model that learns to reverse an input sequence. While this task is not very useful in practice, we can train such a model quickly and use it as as sanity-check to make sure that the end-to-end pipeline is working as intended.</p>
<p>First, let's generate some data:</p>
<pre><code class="bash">DATA_TYPE=reverse ./bin/data/toy.sh
</code></pre>

<p>To train a new model, we will use the files that are generated by this script, which are described in detail in the table below. To use your own data, you will need to generate corresponding files in the same format.</p>
<table>
<thead>
<tr>
<th>Argument Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>train_source</code></td>
<td>The input sequences. A plain text file where each line corresponds to one input example. Tokens/words are separated by spaces. For natural language data, you may need to use a tokenizer to generate this. See <a href="../tools/">tools</a> for more detail.</td>
</tr>
<tr>
<td><code>train_target</code></td>
<td>The target sequences in the same format as <code>train_source</code>. Each line corresponds to the "translation" of the input sequence in the same line in <code>train_source</code>. Thus, the number of lines in these two files must be equal.</td>
</tr>
<tr>
<td><code>dev_source</code></td>
<td>Same as <code>train_source</code> but used for validation/development.</td>
</tr>
<tr>
<td><code>dev_target</code></td>
<td>Same as <code>train_target</code> but used for validation/development.</td>
</tr>
<tr>
<td><code>vocab_source</code></td>
<td>The vocabulary for the source sequences in the form of a plain text file containing one word per line. All words that appear in the source text but are not in the vocabulary will be mapped to <code>UNK</code> (unknown) tokens. We provide a script to generate a vocabulary file. See <a href="../tools/">tools</a> for more detail.</td>
</tr>
<tr>
<td><code>vocab_target</code></td>
<td>Same as <code>vocab_source</code> but for the target sequences.</td>
</tr>
</tbody>
</table>
<p>Given the above input files, you can now train a new model:</p>
<pre><code class="bash">python -m bin.train \
  --train_source $HOME/nmt_data/toy_reverse/train/sources.txt \
  --train_target $HOME/nmt_data/toy_reverse/train/targets.txt \
  --dev_source $HOME/nmt_data/toy_reverse/dev/sources.txt \
  --dev_target $HOME/nmt_data/toy_reverse/dev/targets.txt \
  --vocab_source $HOME/nmt_data/toy_reverse/train/vocab.sources.txt \
  --vocab_target $HOME/nmt_data/toy_reverse/train/vocab.targets.txt \
  --model AttentionSeq2Seq \
  --batch_size 32 \
  --train_steps 2000 \
  --output_dir ${TMPDIR:-/tmp}/nmt_toy_reverse
</code></pre>

<p>On a CPU, the training may take up to 15 minutes. With the trained model, you can run inference and make predictions as follows:</p>
<pre><code class="bash">python -m bin.infer \
  --source $HOME/nmt_data/toy_reverse/test/sources.txt \
  --model_dir ${TMPDIR:-/tmp}/nmt_toy_reverse \
  &gt; ${TMPDIR:-/tmp}/nmt_toy_reverse/predictions.txt

# Evaluate BLEU score using multi-bleu script from MOSES
./bin/tools/multi-bleu.perl $HOME/nmt_data/toy_reverse/test/targets.txt &lt; ${TMPDIR:-/tmp}/nmt_toy_reverse/predictions.txt
</code></pre>

<p>To learn more about available models, data and tools, please see the corresponding sections of the documentation.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../data/" class="btn btn-neutral float-right" title="Data">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href=".." class="btn btn-neutral" title="Overview"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>
    
  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href=".." style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../data/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script src="../js/theme.js"></script>

</body>
</html>
